Useful info
-------------
hexdump -v -e '10/4 "%.4f "' -e '"\n"' initialize.dat
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
- When specifying a destination process in a send or a receive, you can use the wildcard MPI_PROC_NULL as destination or sender to ignore the call.
That's very convenient when dealing with whole domains sends and boundary conditions

- For OpenMP: Call MPI from the main thread only (and outside only any OpenMP parallel region)

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Σύγκλιση σημαινει ότι δεν αλλάζει οι τιμές του πινακα. Που σημαίνει ότι δεν αλλάζουν οι τιμές των πινάκων σε όλους τοιυς πίνακες τοπικοί σε κάθε διεργασία. Επομένως α) κάθε διεργασία διαπιστώνει αλλάγή ή όχι και β) με allreduce διαπιστώνεται η συνολική αλλάγή ή μη.

Αναπτύσσετε

α) πρόγραμμα MPI χωρίς allreduce

β) MPI με allreduce

γ) Υβριδικό MPI (με allreduce) + Openmp

Παρατήρηση: Κανονικά αν διαπιστωθεί σύγκλιση σταματάει η προσομοίωση. Για λόγους μετρήσεων όμως εσεις την συνεχίζετε ούτως ώστε όλες οι εκτελέσεις να κάνουν ίδιο αριθμό επαναλήψεων.

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Allreduce γιατί όλες πρεπει να γνωρίζουν αν πρέπει να σταματήσουν.

Το parallel I/O χρησιμοποιείται στη αρχή και στο τέλος.

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Στο δικό σας προγραμμα δεν έχει νόημα να έχετε master. Το 'εχω αναλύσει.

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

1. Το Υβριδικό με έλεγχο σύγκλισης.

2. Δ/Ν σημαινει Δ διεργασίες και κάθε διεργασία δημιουργεί Ν νήματα.

Επομένως για το 1 node τρέχετε 4 tasks

2/2 δηλαδή 2 διεργασίες με 2 νήματα

1/4 δηλαδή 1 διεργασία με 4 νήματα

Υπάρχει και η 2/4, δηλαδή 2 διεργασίες με 4 νήματα (8 tasks, ισως αυτό να μπέρδεψε)

Εν γένει Δ*Ν = Tasks, εκτός από μια περίπτωση (2/4, 8/4, 32/4, 64/4, 80/4) για 4,16,64,128,160 tasks

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Parallel I/O υλοποιείται με συναρτήσεις του MPI.

♦ Open the file: MPI_File_open
♦Write to the file: MPI_File_write
♦ Close the file: MPI_File_close

κλπ

Έχω ανεβάσει σχετικό υλικό.

